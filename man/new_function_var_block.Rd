% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/function_var_block.R
\name{new_function_var_block}
\alias{new_function_var_block}
\title{Function Variadic Transform Block}
\usage{
new_function_var_block(
  fn = function(...) {
     dplyr::bind_rows(...)
 },
  ...
)
}
\arguments{
\item{fn}{An R function that transforms multiple data frames. Must have \code{...}
as first argument. Default values of other arguments determine the UI widgets.}

\item{...}{Additional arguments passed to new_block}
}
\description{
A block that wraps a user-defined R function with variadic data inputs (...)
and automatically generates UI based on the function's argument defaults.
Similar to \code{\link[=new_function_block]{new_function_block()}} but accepts any number of data frames.
}
\section{Approach}{

The function must have \code{...} as its first argument to receive the input
data frames. Additional arguments after \code{...} are introspected and UI is
generated based on defaults:
\itemize{
\item Character vector with multiple elements -> selectInput (dropdown)
\item Single numeric value -> numericInput
\item Single logical value -> checkboxInput
\item Single character value -> textInput
}
}

\section{Output Types}{

Output type is auto-detected from the function's return value:
\itemize{
\item If the function returns a \code{gt_tbl} object, it renders as a GT table
\item Otherwise, it renders as an interactive DataTable
}
}

\examples{
# Define a simple bind function
bind_all <- function(..., .id = NULL) {
  dplyr::bind_rows(..., .id = .id)
}
blk <- new_function_var_block(fn = bind_all)

if (interactive()) {
  library(blockr.core)

  # Custom reduce function
  reduce_merge <- function(..., by = "id") {
    dfs <- list(...)
    Reduce(function(x, y) merge(x, y, by = by, all = TRUE), dfs)
  }

  serve(
    new_board(
      blocks = list(
        data1 = new_dataset_block(dataset = "band_members", package = "dplyr"),
        data2 = new_dataset_block(dataset = "band_instruments", package = "dplyr"),
        data3 = new_dataset_block(dataset = "band_instruments2", package = "dplyr"),
        merged = new_function_var_block(fn = reduce_merge)
      ),
      links = links(
        from = c("data1", "data2", "data3"),
        to = c("merged", "merged", "merged"),
        input = c("1", "2", "3")
      )
    )
  )
}

}
