% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/function_xy_block.R
\name{new_function_xy_block}
\alias{new_function_xy_block}
\title{Function XY Transform Block}
\usage{
new_function_xy_block(fn = "function(x, y) { dplyr::bind_rows(x, y) }", ...)
}
\arguments{
\item{fn}{Character string containing R function code that transforms two
data frames. The function must have \code{x} as first argument and \code{y} as second
argument. Default values of other arguments determine the UI widgets.}

\item{...}{Additional arguments passed to new_block}
}
\description{
A block that wraps a user-defined R function with two data inputs (x and y)
and automatically generates UI based on the function's argument defaults.
Similar to \code{\link[=new_function_block]{new_function_block()}} but accepts two data frames as input.
}
\section{Approach}{

The function must have \code{x} as its first argument and \code{y} as its second
argument (the two input data frames). Additional arguments are introspected
and UI is generated based on defaults:
\itemize{
\item Character vector with multiple elements -> selectInput (dropdown)
\item Single numeric value -> numericInput
\item Single logical value -> checkboxInput
\item Single character value -> textInput
}
}

\section{Output Types}{

Output type is auto-detected from the function's return value (in priority order):
\itemize{
\item \code{gt_tbl}: renders as GT HTML table
\item \code{ggplot}: renders with plotOutput/renderPlot
\item \code{recordedplot} (base R plot): renders with evaluate::replay() in renderPlot
\item \code{data.frame}/\code{tibble}: renders as interactive DataTable
\item Any other object: shows print() output as preformatted text
}
}

\examples{
# Define a simple merge function
blk <- new_function_xy_block(
  fn = "function(x, y, by = 'id', all = FALSE) {
    merge(x, y, by = by, all = all)
  }"
)

if (interactive()) {
  library(blockr.core)

  serve(
    new_board(
      blocks = list(
        data1 = new_dataset_block(dataset = "band_members", package = "dplyr"),
        data2 = new_dataset_block(dataset = "band_instruments", package = "dplyr"),
        merged = new_function_xy_block(
          fn = "function(x, y) {
            dplyr::left_join(x, y, by = 'name')
          }"
        )
      ),
      links = links(
        from = c("data1", "data2"),
        to = c("merged", "merged"),
        input = c("x", "y")
      )
    )
  )
}

}
